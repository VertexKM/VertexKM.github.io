<!DOCTYPE HTML>
<div id="135172" data-aitid="135172" data-modifieddate="2020-08-26" data-aitvariantparent="0" class="knowledgearticle_troubleshooting">
   <script type="text/javascript">$('[data-toggle="popover"]').popover(); </script>
   
   <h4>Internal example: Troubleshooting Data Upgrade Utility Issues</h4>
   <p class="bodytext">This article provides specific information for troubleshooting customer issues with
      the Transaction Data Upgrade Utility and how it works with the Vertex O Series upgrade
      process. Refer to the <span class="manualname">Vertex Indirect Tax O Series Upgrade Guide for 6.0, 7.0, and 8.0 to 9.0</span> for information about the utility.</p>
   <p class="bodytext">The article contains the following sections:</p>
   <ul class="bullet">
      <li class="bullet">
         <p class="bullet">Items to check with the customer before you create an Axosoft ticket</p>
      </li>
      <li class="bullet">
         <p class="bullet">What you need to include in an Axosoft ticket</p>
      </li>
      <li class="bullet">
         <p class="bullet">Common utility issues and solutions</p>
      </li>
   </ul>
   <p class="heading2">Items to check with the customer before you create an Axosoft ticket</p>
   <p class="bodytext">Before you create a ticket in Axosoft for a customer issue that is related to the
      Transaction Data Upgrade Utility, review the following information with the customer:</p>
   <p class="heading3">Linked servers</p>
   <ul class="bullet">
      <li class="bullet">
         <p class="bullet">Verify that linked servers are set up in the configuration file and are in use at
            all times. </p>
      </li>
   </ul>
   <p class="bullettext">The exception to this requirement is when a Microsoft SQL Server upgrade is performed,
      and the source and destination databases are located on the same server. In this case,
      the Transaction Data Upgrade Utility makes the necessary connection and the customer
      does not need to include the linked names in the configuration file.</p>
   <ul class="bullet">
      <li class="bullet">
         <p class="bullet">Check that the customer has properly configured the linked servers, linked names,
            and nicknames (for DB2 servers) for the source and destination databases. </p>
      </li>
      <li class="bullet">
         <p class="bullet">Check that the source and destination configuration files contain the linked server
            properties and settings. For example:</p>
         <p class="procedurecodeindent">upgrade.JournalLinkNameSource=OSeries8</p>
         <p class="procedurecodeindent">upgrade.JournalLinkNameDest=OSeries9</p>
         <p class="procedurecodeindent">upgrade.ReportingLinkNameSource=OSeries8</p>
         <p class="procedurecodeindent">upgrade.ReportingLinkNameDest=OSeri<span class="procedurecodeinsentence">es9</span></p>
      </li>
      <li class="bullet">
         <p class="bullet">Check that the linked server names do not contain special characters that may cause
            errors.</p>
      </li>
   </ul>
   <p class="heading3">Credentials</p>
   <ul class="bullet">
      <li class="bullet">
         <p class="bullet">Check that customer credentials are set up properly. Whether or not the customer is
            using linked servers, the source database user needs SELECT, INSERT, and UPDATE privileges
            to the destination database. The destination database user needs SELECT, INSERT, and
            UPDATE privileges to the source database.</p>
      </li>
   </ul>
   <p class="heading3">Microsoft SQL Server</p>
   <ul class="bullet">
      <li class="bullet">
         <p class="bullet">Ensure that the customer has completed the required prerequisites before a Microsoft
            SQL Server upgrade is performed. The prerequisites are to move a JDBC JAR file to
            a Tomcat library directory and modify the database connection strings in the <span class="procedurecodeinsentence">vertex.cfg</span> configuration file.</p>
      </li>
   </ul>
   <p class="bullettext">For more information, refer to "If you are using a Microsoft SQL Server database"
      in the <span class="manualname">Vertex Indirect Tax O Series Upgrade Guide for 6.0, 7.0, and 8.0 to 9.0</span>.</p>
   <p class="heading3">Configuration parameters</p>
   <ul class="bullet">
      <li class="bullet">
         <p class="bullet">Verify that the customer has configured the <span class="procedurecodeinsentence">upgrade.ProfileSql</span> parameter in the <span class="procedurecodeinsentence">vertex.cfg</span> target configuration file. The parameter is set to <span class="procedurecodeinsentence">true</span>:</p>
         <p class="procedurecodeindent">upgrade.ProfileSql=true</p>
      </li>
   </ul>
   <p class="heading2">What you need to include in an Axosoft ticket</p>
   <p class="bodytext">When you need to create a customer ticket in Axosoft, be sure to include the following
      customer information:</p>
   <ul class="bullet">
      <li class="bullet">
         <p class="bullet">The versions used for the upgrade, such as O Series 7.0 to 8.0 or O Series 8.0 to
            9.0</p>
      </li>
      <li class="bullet">
         <p class="bullet">The minor version that the customer is running, such as 9.0.0.0.<span class="procedureinterfaceelement">13</span></p>
      </li>
      <li class="bullet">
         <p class="bullet">The source and destination configuration files</p>
      </li>
      <li class="bullet">
         <p class="bullet">The source and destination log files, usually packaged in a ZIP or TAR file that includes
            the files from the <span class="procedurecodeinsentence">log</span> directory</p>
      </li>
      <li class="bullet">
         <p class="bullet">The generated console output of the Transaction Data Upgrade Utility, including the
            command used to run the utility, saved as a TXT file</p>
      </li>
      <li class="bullet">
         <p class="bullet">The <span class="procedurecodeinsentence">trans_upgrade_report_</span><span class="procedurecodevariable">xxxx</span><span class="procedurecodeinsentence">.txt</span> report file that is located in the same directory as the upgrade JAR file</p>
      </li>
   </ul>
   <p class="bullettext">where:</p>
   <p class="bullettext"><span class="procedurecodevariable">xxxx</span> is the time stamp for the file</p>
   <ul class="bullet">
      <li class="bullet">
         <p class="bullet">The error message that the customer encountered during the upgrade</p>
      </li>
   </ul>
   <p class="paragraphheading">Related topics:</p>
   <ul class="bullet">
      <li class="bullet">
         <p class="bullet"><span class="jumptemplate_textstring"><a href="#showid/135173">Common Data Upgrade Utility Issues</a></span></p>
      </li>
   </ul>
</div>